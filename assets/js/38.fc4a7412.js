(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{625:function(s,a,n){"use strict";n.r(a);var e=n(6),t=Object(e.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("div",{staticClass:"custom-block tip"},[n("p",[s._v("本项目是基于Ucloud短信PHPSDK二次开发的。")])]),s._v(" "),n("h2",{attrs:{id:"介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[s._v("#")]),s._v(" 介绍")]),s._v(" "),n("p",[s._v("本项目是基于Ucloud短信PHPSDK二次开发的，支持ThinkPHP5.0、ThinkPHP5.1和ThinkPHP6.0，由宁波晟嘉网络科技有限公司维护，用于Ucloud旗下的短信发送业务。")]),s._v(" "),n("h2",{attrs:{id:"安装教程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装教程"}},[s._v("#")]),s._v(" 安装教程")]),s._v(" "),n("p",[s._v("使用 "),n("code",[s._v("composer require singka/ucloud-sms")]),s._v(" 命令行安装即可。")]),s._v(" "),n("p",[s._v("安装完成后会自动生成 "),n("code",[s._v("config/usms.php")]),s._v(" 配置文件，内容如下：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("<?php\nreturn [\n    //API公钥 可在后台查找\n    'PUBLIC_KEY'   =>  '',\n    //API私钥 可在后台查找\n    'PRIVATE_KEY'  =>  '',\n    //项目ID 登录Ucloud后台可以查找\n    'PROJECT_ID'   =>  '',\n    //API通信地址，默认为https://api.ucloud.cn\n    'BASE_URL'     =>  'https://api.ucloud.cn',\n];\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("h2",{attrs:{id:"使用示例"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用示例"}},[s._v("#")]),s._v(" 使用示例")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("    <?php\n    namespace app\\home\\controller;\n\n    use Singka\\UcloudSms\\UcloudApiClient;\n\n    class Index\n    {\n        public function usms_send($mobile,$TemplateId,$templates)\n        {\n            $conn = new UcloudApiClient(Config::get('usms.BASE_URL'), Config::get('usms.PUBLIC_KEY'), Config::get('usms.PRIVATE_KEY'), Config::get('usms.PROJECT_ID'));\n            $params['Action'] = \"SendUSMSMessage\";\n            //判断$mobile是否为数组，如果是数组，就触发群发\n            if(is_array($mobile)){\n                foreach($mobile as $key => $val){\n                    $params[\"PhoneNumbers.\".$key] = $val;\n                }\n            }else{\n                $params['PhoneNumbers.0'] = $mobile;\n            }\n            $params[\"SigContent\"] = '胜家云';\n            $params[\"TemplateId\"] = $TemplateId;\n            //$templates，如果是数组，就触发多个发送变量\n            if(is_array($templates)){\n                foreach($templates as $key => $val) {\n                    $params[\"TemplateParams.\".$key] = $val;\n                }\n            }else{\n                $params[\"TemplateParams.0\"] = $templates;\n            }\n            print_r($response = $conn->get(\"/\", $params));\n        }\n    }\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br")])]),n("h2",{attrs:{id:"其他说明"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#其他说明"}},[s._v("#")]),s._v(" 其他说明")]),s._v(" "),n("p",[s._v("返回的相关错误码请查阅：https://docs.ucloud.cn/management_monitor/usms/error_code")])])}),[],!1,null,null,null);a.default=t.exports}}]);